"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[421],{8909:function(e,n,t){t.d(n,{Z:function(){return s}});var a="Container_container__VVOCq",r=t(184);function s(e){var n=e.children;return(0,r.jsx)("div",{className:a,children:n})}},9269:function(e,n,t){t.r(n),t.d(n,{default:function(){return O}});var a=t(885),r=t(2791),s=t(9726),o=t(5206),c=t(8909),i=t(5705),m=t(1929),l={form:"ContactForm_form__dhl+T",item:"ContactForm_item__zE+8S",label:"ContactForm_label__-cVXI",button:"ContactForm_button__eSwX9",error:"ContactForm_error__C1smZ"},u=t(184);function d(e){var n=e.name,t=void 0===n?"Name":n,a=e.number,r=void 0===a?"Number":a,s=e.changeData,o=e.onSubmit;return(0,u.jsx)(i.J9,{initialValues:{name:"",number:""},validationSchema:m.Ry(s?{name:m.Z_().matches(/(^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$)/,"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan"),number:m.Z_().matches(/(\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9})/,"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +")}:{name:m.Z_().matches(/(^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$)/,"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan").required("Required"),number:m.Z_().matches(/(\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9})/,"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +").required("Required")}),onSubmit:function(e,n){var t=n.setSubmitting,a=n.resetForm;o(e),t(!1),a({})},children:(0,u.jsxs)(i.l0,{className:l.form,children:[(0,u.jsx)("label",{htmlFor:"name",className:l.label,children:t}),(0,u.jsx)(i.gN,{name:"name",type:"text",className:l.input}),(0,u.jsx)(i.Bc,{name:"name",render:function(e){return(0,u.jsx)("div",{className:l.error,children:e})}}),(0,u.jsx)("label",{htmlFor:"name",className:l.label,children:r}),(0,u.jsx)(i.gN,{name:"number",type:"tel",className:l.input}),(0,u.jsx)(i.Bc,{name:"number",render:function(e){return(0,u.jsx)("div",{className:l.error,children:e})}}),(0,u.jsx)("button",{type:"submit",className:l.button,children:s?"Change details":"Add contact"})]})})}var h=t(2982),_=t(2134),x=t(2299),b=t.n(x),f="ContactItem_number__2mm0v",j="ContactItem_name__+rhVe",p="ContactItem_button__3O59k",v="ContactItem_contactWrap__0zsjP",C="ContactItem_buttonWrap__mQm49",N=t(606);function g(e){var n=e.name,t=e.number,c=e.id,i=(0,s.Nt)(),m=(0,a.Z)(i,2),l=m[0],h=m[1].isLoading,x=(0,s.mG)(),g=(0,a.Z)(x,1)[0],Z=(0,s.wY)().data,F=(0,r.useState)(null),w=(0,a.Z)(F,2),A=w[0],y=w[1],z=function(){y(null)},I=Boolean(A),O=I?"simple-popover":void 0;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:v,children:[(0,u.jsx)("span",{className:j,children:n}),(0,u.jsx)("span",{className:f,children:t})]}),(0,u.jsxs)("div",{className:C,children:[(0,u.jsx)("button",{onClick:function(e){y(e.currentTarget)},type:"button",className:p,children:(0,u.jsx)(_.xRF,{})}),(0,u.jsx)("button",{onClick:function(){return l(c)},type:"button",className:p,children:h?(0,u.jsx)(b(),{size:"16px",color:"white"}):(0,u.jsx)(_.oHP,{})})]}),(0,u.jsx)(N.ZP,{id:O,open:I,anchorEl:A,onClose:z,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"center",horizontal:"center"},children:(0,u.jsx)(d,{name:n,number:t,changeData:!0,onSubmit:function(e){Z.some((function(n){return n.name===e.name}))?o.Am.error("".concat(e.name," is already in contacts"),{position:o.Am.POSITION.TOP_RIGHT}):(!e.name&&(e.name=n),!e.number&&(e.number=t),g({contact:e,contactId:c}),z())}})})]})}var Z="ContactList_list__csErn",F="ContactList_item__EZYHO";function w(e){var n=e.contacts;return(0,u.jsx)("ul",{className:Z,children:n&&(0,h.Z)(n).sort((function(e,n){var t=e.name,a=n.name;return t.toLowerCase().localeCompare(a.toLowerCase())})).map((function(e){var n=e.name,t=e.number,a=e.id;return(0,u.jsx)("li",{className:F,children:(0,u.jsx)(g,{name:n,number:t,id:a})},a)}))})}var A={filter:"Filter_filter__vxThR"};function y(e){var n=e.changeFilter;return(0,u.jsxs)("div",{className:A.filter,children:[(0,u.jsx)("label",{htmlFor:"filter",className:A.title,children:"Find contacts"}),(0,u.jsx)("input",{className:A.input,id:"filter",onChange:function(e){return n(e.target.value)}})]})}var z="Notification_message__iUHOw";function I(e){var n=e.message;return(0,u.jsx)("p",{className:z,children:n})}function O(){var e=(0,r.useState)(""),n=(0,a.Z)(e,2),t=n[0],i=n[1],m=(0,s.wY)().data,l=(0,s.Tn)(),h=(0,a.Z)(l,1)[0],_=(0,r.useMemo)((function(){if(m){var e=t.toLowerCase();return m.filter((function(n){return n.name.toLowerCase().includes(e)}))}}),[m,t]);return(0,u.jsxs)("div",{children:[(0,u.jsxs)(c.Z,{children:[(0,u.jsx)("h2",{children:"Phonebook"}),(0,u.jsx)(d,{onSubmit:function(e){m.some((function(n){return n.name===e.name}))?o.Am.error("".concat(e.name," is already in contacts"),{position:o.Am.POSITION.TOP_RIGHT}):h(e)}})]}),(0,u.jsxs)(c.Z,{children:[(0,u.jsx)("h2",{children:"Contacts"}),(0,u.jsx)(y,{changeFilter:i})]}),(0,u.jsxs)(c.Z,{style:{position:"relative"},children:[(null===_||void 0===_?void 0:_.length)>0&&(0,u.jsx)(w,{contacts:_}),0===(null===_||void 0===_?void 0:_.length)&&(0,u.jsx)(I,{message:"No contacts found"})]})]})}}}]);
//# sourceMappingURL=contacts.610714e7.chunk.js.map