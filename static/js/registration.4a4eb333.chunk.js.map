{"version":3,"file":"static/js/registration.4a4eb333.chunk.js","mappings":"uKACA,MAA4B,6B,SCEb,SAASA,EAAT,GAAkC,IAAbC,EAAY,EAAZA,SAClC,OAAO,gBAAKC,UAAWC,EAAhB,SAA8BF,M,uICHvC,GAAgB,KAAO,+BAA+B,KAAO,+BAA+B,MAAQ,gCAAgC,OAAS,iCAAiC,MAAQ,iC,SCYvK,SAASG,EAAT,GAA6C,IAAjBC,EAAgB,EAAhBA,aACnCC,GAAWC,EAAAA,EAAAA,MACjB,GAAuBC,EAAAA,EAAAA,MAAhBC,GAAP,eACA,GAAwBC,EAAAA,EAAAA,MAAjBC,GAAP,eACMC,GAAWC,EAAAA,EAAAA,MAEjB,OACE,SAAC,KAAD,CACEC,cACET,EACI,CAAEU,KAAM,GAAIC,MAAO,GAAIC,SAAU,IACjC,CAAED,MAAO,GAAIC,SAAU,IAE7BC,iBAAkBC,EAAAA,GAAW,CAC3BJ,KACEV,GACAc,EAAAA,KACGC,QACC,2HACA,0IAEDC,SAAS,YACdL,MAAOG,EAAAA,KACJH,MAAM,+BACNK,SAAS,YACZJ,SAAUE,EAAAA,KACPE,SAAS,yBACTC,IAAI,EAAG,wDAEZC,SAAU,SAACC,EAAD,GAA2C,IAAhCC,EAA+B,EAA/BA,cAAeC,EAAgB,EAAhBA,UAClCrB,EACII,EAAae,GACVG,SACAC,MAAK,SAAAC,GACJvB,GAASwB,EAAAA,EAAAA,IAAQD,IACjBjB,EAAS,YAAa,CAAEmB,SAAS,OAElCC,OAAM,kBACLC,EAAAA,GAAAA,MAAA,6DAEE,CACEC,SAAUD,EAAAA,GAAAA,SAAAA,UACVE,QAAS,kBACPvB,EAAS,iBAAkB,CAAEmB,SAAS,UAIhDpB,EAAca,GACXG,SACAC,MAAK,SAAAC,GACJvB,GAASwB,EAAAA,EAAAA,IAAQD,IACjBjB,EAAS,YAAa,CAAEmB,SAAS,OAElCC,OAAM,kBACLC,EAAAA,GAAAA,MAAA,0BAAuC,CACrCC,SAAUD,EAAAA,GAAAA,SAAAA,eAGpBR,GAAc,GACdC,EAAU,KApDd,UAuDE,UAAC,KAAD,CAAMxB,UAAWC,EAAAA,KAAjB,UACGE,IACC,iCACE,kBAAO+B,QAAQ,OAAOlC,UAAWC,EAAAA,MAAjC,mBAGA,SAAC,KAAD,CAAOY,KAAK,OAAOsB,KAAK,OAAOnC,UAAWC,EAAAA,SAC1C,SAAC,KAAD,CACEY,KAAK,OACLuB,OAAQ,SAAAC,GAAG,OAAI,gBAAKrC,UAAWC,EAAAA,MAAhB,SAA0BoC,WAI/C,kBAAOH,QAAQ,QAAQlC,UAAWC,EAAAA,MAAlC,qBAGA,SAAC,KAAD,CAAOY,KAAK,QAAQsB,KAAK,QAAQnC,UAAWC,EAAAA,SAC5C,SAAC,KAAD,CACEY,KAAK,QACLuB,OAAQ,SAAAC,GAAG,OAAI,gBAAKrC,UAAWC,EAAAA,MAAhB,SAA0BoC,QAG3C,kBAAOH,QAAQ,WAAWlC,UAAWC,EAAAA,MAArC,uBAGA,SAAC,KAAD,CAAOY,KAAK,WAAWsB,KAAK,WAAWnC,UAAWC,EAAAA,SAClD,SAAC,KAAD,CACEY,KAAK,WACLuB,OAAQ,SAAAC,GAAG,OAAI,gBAAKrC,UAAWC,EAAAA,MAAhB,SAA0BoC,QAG3C,mBAAQF,KAAK,SAASnC,UAAWC,EAAAA,OAAjC,SACGE,EAAe,WAAa,mB,mGCxGxB,SAASmC,IAGtB,OACE,SAAC,IAAD,WACE,SAAC,IAAD,CAAkBnC,cAAY","sources":["webpack://react-homework-template/./src/components/Container/Container.module.css?9f71","components/Container/Container.js","webpack://react-homework-template/./src/components/RegistrationForm/RegistrationForm.module.css?5637","components/RegistrationForm/RegistrationForm.js","pages/RegistartionPage.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"Container_container__VVOCq\"};","import PropTypes from 'prop-types';\nimport s from './Container.module.css';\n\nexport default function Container({ children }) {\n  return <div className={s.container}>{children}</div>;\n}\nContainer.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"RegistrationForm_form__c8X43\",\"item\":\"RegistrationForm_item__F5OR7\",\"label\":\"RegistrationForm_label__zrkEU\",\"button\":\"RegistrationForm_button__XU1LB\",\"error\":\"RegistrationForm_error__hvKUg\"};","import PropTypes from 'prop-types';\nimport { Formik, Field, Form, ErrorMessage } from 'formik';\nimport {\n  useRegisterUserMutation,\n  useAuthorizeUserMutation,\n} from 'redux/contactsAPI';\nimport { useDispatch } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\nimport { setUser } from 'redux/reducer';\nimport { toast } from 'react-toastify';\nimport * as Yup from 'yup';\nimport s from './RegistrationForm.module.css';\n\nexport default function RegistrationForm({ registration }) {\n  const dispatch = useDispatch();\n  const [registerUser] = useRegisterUserMutation();\n  const [authorizeUser] = useAuthorizeUserMutation();\n  const navigate = useNavigate();\n\n  return (\n    <Formik\n      initialValues={\n        registration\n          ? { name: '', email: '', password: '' }\n          : { email: '', password: '' }\n      }\n      validationSchema={Yup.object({\n        name:\n          registration &&\n          Yup.string()\n            .matches(\n              /(^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$)/,\n              \"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan\"\n            )\n            .required('Required'),\n        email: Yup.string()\n          .email('Please provide valid e-mail')\n          .required('Required'),\n        password: Yup.string()\n          .required('No password provided.')\n          .min(8, 'Password is too short - should be 8 chars minimum.'),\n      })}\n      onSubmit={(values, { setSubmitting, resetForm }) => {\n        registration\n          ? registerUser(values)\n              .unwrap()\n              .then(payload => {\n                dispatch(setUser(payload));\n                navigate('/contacts', { replace: true });\n              })\n              .catch(() =>\n                toast.error(\n                  `User with such email already exist. Do you want to Log in?`,\n                  {\n                    position: toast.POSITION.TOP_RIGHT,\n                    onClick: () =>\n                      navigate('/authorization', { replace: true }),\n                  }\n                )\n              )\n          : authorizeUser(values)\n              .unwrap()\n              .then(payload => {\n                dispatch(setUser(payload));\n                navigate('/contacts', { replace: true });\n              })\n              .catch(() =>\n                toast.error(`Please put correct data`, {\n                  position: toast.POSITION.TOP_RIGHT,\n                })\n              );\n        setSubmitting(false);\n        resetForm({});\n      }}\n    >\n      <Form className={s.form}>\n        {registration && (\n          <>\n            <label htmlFor=\"name\" className={s.label}>\n              Name\n            </label>\n            <Field name=\"name\" type=\"text\" className={s.input} />\n            <ErrorMessage\n              name=\"name\"\n              render={msg => <div className={s.error}>{msg}</div>}\n            />\n          </>\n        )}\n        <label htmlFor=\"email\" className={s.label}>\n          E-mail\n        </label>\n        <Field name=\"email\" type=\"email\" className={s.input} />\n        <ErrorMessage\n          name=\"email\"\n          render={msg => <div className={s.error}>{msg}</div>}\n        />\n\n        <label htmlFor=\"password\" className={s.label}>\n          Password\n        </label>\n        <Field name=\"password\" type=\"password\" className={s.input} />\n        <ErrorMessage\n          name=\"password\"\n          render={msg => <div className={s.error}>{msg}</div>}\n        />\n\n        <button type=\"submit\" className={s.button}>\n          {registration ? 'Register' : 'Sign in'}\n        </button>\n      </Form>\n    </Formik>\n  );\n}\nRegistrationForm.propTypes = {\n  registration: PropTypes.bool,\n};\n","import RegistrationForm from 'components/RegistrationForm';\nimport Container from 'components/Container';\n\nexport default function RegistartionPage() {\n \n\n  return (\n    <Container>\n      <RegistrationForm registration />\n    </Container>\n  );\n}\n"],"names":["Container","children","className","s","RegistrationForm","registration","dispatch","useDispatch","useRegisterUserMutation","registerUser","useAuthorizeUserMutation","authorizeUser","navigate","useNavigate","initialValues","name","email","password","validationSchema","Yup","matches","required","min","onSubmit","values","setSubmitting","resetForm","unwrap","then","payload","setUser","replace","catch","toast","position","onClick","htmlFor","type","render","msg","RegistartionPage"],"sourceRoot":""}