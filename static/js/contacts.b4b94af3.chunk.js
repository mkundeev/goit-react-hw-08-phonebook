"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[421],{8909:function(e,n,a){a.d(n,{Z:function(){return s}});var t="Container_container__VVOCq",r=a(184);function s(e){var n=e.children;return(0,r.jsx)("div",{className:t,children:n})}},5084:function(e,n,a){a.r(n),a.d(n,{default:function(){return S}});var t=a(885),r=a(2791),s=a(9726),o=a(5206),c=a(8909),i=a(5705),m=a(1929),l={form:"ContactForm_form__dhl+T",item:"ContactForm_item__zE+8S",label:"ContactForm_label__-cVXI",button:"ContactForm_button__eSwX9",error:"ContactForm_error__C1smZ"},u=a(184);function d(e){var n=e.name,a=void 0===n?"Name":n,t=e.number,r=void 0===t?"Number":t,s=e.changeData,o=e.onSubmit;return(0,u.jsx)(i.J9,{initialValues:{name:"",number:""},validationSchema:m.Ry(s?{name:m.Z_().matches(/(^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$)/,"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan"),number:m.Z_().matches(/(\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9})/,"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +")}:{name:m.Z_().matches(/(^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$)/,"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan").required("Required"),number:m.Z_().matches(/(\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9})/,"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +").required("Required")}),onSubmit:function(e,n){var a=n.setSubmitting,t=n.resetForm;o(e),a(!1),t({})},children:(0,u.jsxs)(i.l0,{className:l.form,children:[(0,u.jsx)("label",{htmlFor:"name",className:l.label,children:a}),(0,u.jsx)(i.gN,{name:"name",type:"text",className:l.input}),(0,u.jsx)(i.Bc,{name:"name",render:function(e){return(0,u.jsx)("div",{className:l.error,children:e})}}),(0,u.jsx)("label",{htmlFor:"name",className:l.label,children:r}),(0,u.jsx)(i.gN,{name:"number",type:"tel",className:l.input}),(0,u.jsx)(i.Bc,{name:"number",render:function(e){return(0,u.jsx)("div",{className:l.error,children:e})}}),(0,u.jsx)("button",{type:"submit",className:l.button,children:s?"Change details":"Add contact"})]})})}var h=a(2982),_=a(2134),b=a(2299),x=a.n(b),p="ContactItem_number__2mm0v",f="ContactItem_name__+rhVe",j="ContactItem_button__3O59k",v="ContactItem_contactWrap__0zsjP",N="ContactItem_buttonWrap__mQm49",C=a(606);function g(e){var n=e.name,a=e.number,c=e.id,i=(0,s.Nt)(),m=(0,t.Z)(i,2),l=m[0],h=m[1].isLoading,b=(0,s.mG)(),g=(0,t.Z)(b,1)[0],Z=(0,s.wY)().data,F=(0,r.useState)(null),w=(0,t.Z)(F,2),A=w[0],I=w[1],y=function(){I(null)},z=Boolean(A),O=z?"simple-popover":void 0;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:v,children:[(0,u.jsx)("span",{className:f,children:n}),(0,u.jsx)("span",{className:p,children:a})]}),(0,u.jsxs)("div",{className:N,children:[(0,u.jsx)("button",{onClick:function(e){I(e.currentTarget)},type:"button",className:j,children:(0,u.jsx)(_.xRF,{})}),(0,u.jsx)("button",{onClick:function(){return l(c)},type:"button",className:j,children:h?(0,u.jsx)(x(),{size:"16px",color:"white"}):(0,u.jsx)(_.oHP,{})})]}),(0,u.jsx)(C.ZP,{id:O,open:z,anchorEl:A,onClose:y,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"center",horizontal:"center"},children:(0,u.jsx)(d,{name:n,number:a,changeData:!0,onSubmit:function(e){Z.some((function(n){return n.name===e.name}))?o.Am.error("".concat(e.name," is already in contacts"),{position:o.Am.POSITION.TOP_RIGHT}):(!e.name&&(e.name=n),!e.number&&(e.number=a),g({contact:e,contactId:c}),y())}})})]})}var Z="ContactList_list__csErn",F="ContactList_item__EZYHO";function w(e){var n=e.contacts;return(0,u.jsx)("ul",{className:Z,children:n&&(0,h.Z)(n).sort((function(e,n){var a=e.name,t=n.name;return a.toLowerCase().localeCompare(t.toLowerCase())})).map((function(e){var n=e.name,a=e.number,t=e.id;return(0,u.jsx)("li",{className:F,children:(0,u.jsx)(g,{name:n,number:a,id:t})},t)}))})}var A={filter:"Filter_filter__vxThR"};function I(e){var n=e.changeFilter;return(0,u.jsxs)("div",{className:A.filter,children:[(0,u.jsx)("label",{htmlFor:"filter",className:A.title,children:"Find contacts"}),(0,u.jsx)("input",{className:A.input,id:"filter",onChange:function(e){return n(e.target.value)}})]})}var y="Notification_message__iUHOw";function z(e){var n=e.message;return(0,u.jsx)("p",{className:y,children:n})}var O="page_contactsPageWrap__IQXbX";function S(){var e=(0,r.useState)(""),n=(0,t.Z)(e,2),a=n[0],i=n[1],m=(0,s.wY)().data,l=(0,s.Tn)(),h=(0,t.Z)(l,1)[0],_=(0,r.useMemo)((function(){if(m){var e=a.toLowerCase();return m.filter((function(n){return n.name.toLowerCase().includes(e)}))}}),[m,a]);return(0,u.jsxs)("div",{className:O,children:[(0,u.jsxs)(c.Z,{children:[(0,u.jsx)("h2",{children:"Phonebook menu"}),(0,u.jsx)(d,{onSubmit:function(e){m.some((function(n){return n.name===e.name}))?o.Am.error("".concat(e.name," is already in contacts"),{position:o.Am.POSITION.TOP_RIGHT}):h(e)}}),(0,u.jsx)(I,{changeFilter:i})]}),(0,u.jsxs)(c.Z,{style:{position:"relative"},children:[(0,u.jsx)("h2",{children:"Contacts"}),(null===_||void 0===_?void 0:_.length)>0&&(0,u.jsx)(w,{contacts:_}),0===(null===_||void 0===_?void 0:_.length)&&(0,u.jsx)(z,{message:"No contacts found"})]})]})}}}]);
//# sourceMappingURL=contacts.b4b94af3.chunk.js.map